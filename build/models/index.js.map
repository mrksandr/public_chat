{"version":3,"sources":["../../src/models/index.js"],"names":["basename","__filename","db","sequelize","db_name","db_user","db_password","host","db_host","dialect","db_dialect","port","db_port","storage","db_storage","operatorsAliases","readdirSync","__dirname","filter","file","indexOf","slice","forEach","model","join","name","Object","keys","modelName","associate","Sequelize"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,WAAW,eAAKA,QAAL,CAAcC,UAAd,CAAjB;AACA,IAAIC,KAAK,EAAT;;AAEA,IAAMC,YAAY,wBAChB,iBAAOC,OADS,EAEhB,iBAAOC,OAFS,EAGhB,iBAAOC,WAHS,EAIhB;AACEC,QAAM,iBAAOC,OADf;AAEEC,WAAS,iBAAOC,UAFlB;AAGEC,QAAM,iBAAOC,OAHf;AAIEC,WAAS,iBAAOC,UAJlB;AAKEC,oBAAkB;AALpB,CAJgB,CAAlB;;AAaA,aACGC,WADH,CACeC,SADf,EAEGC,MAFH,CAEU,gBAAQ;AACd,SACEC,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,SAASnB,QAApC,IAAgDmB,KAAKE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CANH,EAOGC,OAPH,CAOW,gBAAQ;AACf,MAAIC,QAAQpB,UAAU,QAAV,EAAoB,eAAKqB,IAAL,CAAUP,SAAV,EAAqBE,IAArB,CAApB,CAAZ;AACAjB,KAAGqB,MAAME,IAAT,IAAiBF,KAAjB;AACD,CAVH;;AAYAG,OAAOC,IAAP,CAAYzB,EAAZ,EAAgBoB,OAAhB,CAAwB,qBAAa;AACnC,MAAIpB,GAAG0B,SAAH,EAAcC,SAAlB,EAA6B;AAC3B3B,OAAG0B,SAAH,EAAcC,SAAd,CAAwB3B,EAAxB;AACD;AACF,CAJD;;AAMAA,GAAGC,SAAH,GAAeA,SAAf;AACAD,GAAG4B,SAAH;;kBAEe5B,E","file":"index.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport Sequelize from 'sequelize';\nimport config from '../config';\n\nconst basename = path.basename(__filename);\nlet db = {};\n\nconst sequelize = new Sequelize(\n  config.db_name,\n  config.db_user,\n  config.db_password,\n  {\n    host: config.db_host,\n    dialect: config.db_dialect,\n    port: config.db_port,\n    storage: config.db_storage,\n    operatorsAliases: false,\n  },\n);\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (\n      file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js'\n    );\n  })\n  .forEach(file => {\n    var model = sequelize['import'](path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"]}